<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='width=device-width' name='viewport'>
    
    <title>PROJECTS - Lpm.io</title>
    
    <link href='/asset/css/app.css' rel='stylesheet'>
    <link href='/asset/css/vendor/jquery.bxslider.css' rel='stylesheet'>
    <link href='//fonts.googleapis.com/css?family=Audiowide' rel='stylesheet'>
    <link href='//fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet'>
    <link href='/atom.xml' rel='alternate' title='Sitewide ATOM Feed' type='application/atom+xml'>
    <link href='/asset/javascript/vendor/custom.modernizr.js' rel='javascript'>
  </head>
  <body>
    <div class='contain-to-grid fixed'>
      <nav class='top-bar'>
        <ul class='title-area'>
          <li class='name'>
            <h1>
              <a href='/'>Lpm.io</a>
            </h1>
          </li>
          <li class='toggle-topbar menu-icon'>
            <a href='#'>
              <span></span>
            </a>
          </li>
        </ul>
        <section class='top-bar-section'>
          <ul class='right'>
            <li>
              <a href='/' id='nav-home'>
                HOME
              </a>
            </li>
            <li>
              <a href='/blog/' id='nav-blog'>
                BLOG
              </a>
            </li>
            <li>
              <a href='/projects/' id='nav-projects'>
                PROJECTS
              </a>
            </li>
            <li>
              <a href='/resume/' id='nav-resume'>
                RESUME
              </a>
            </li>
            <li>
              <a href='//leo.pub' id='nav-contact'>
                CONTACT
              </a>
            </li>
            <li>
              <a href='//github.com/lmartel' id='nav-github'>
                <div class='github-link'></div>
              </a>
            </li>
          </ul>
        </section>
      </nav>
    </div>
    <div class='row'>
      <div class='twelve-columns content'>
        <div class='parallelogram-wrapper'>
          <div class='parallelogram'>
            <p class="title projects">
              PROJECTS
            </p>
          </div>
        </div>
        <div class='hero'></div>
        
        <div class="project-headers">
  
  <div class="project-description" data-project="ToyBoat-Raft" data-rank="1">
    <h2>
      <a href="/projects/toyboat-raft/">
        ToyBoat Raft
      </a>
      (<a href="//github.com/lmartel/ToyBoat-Raft">code</a>)
    </h2>
    <h4 class="project-date">
      Summer 2015
    </h4>
    <h4 class="project-status">
      finished
    </h4>
  </div>
  
  <div class="project-description" data-project="emacs-asana" data-rank="2">
    <h2>
      <a href="/projects/emacs-asana/">
        emacs-asana
      </a>
      (<a href="//github.com/lmartel/emacs-asana">code</a>)
    </h2>
    <h4 class="project-date">
      Spring 2017
    </h4>
    <h4 class="project-status">
      functional but PRs welcome
    </h4>
  </div>
  
  <div class="project-description" data-project="pinboard-viewer" data-rank="3">
    <h2>
      <a href="/projects/pinboard-viewer/">
        Pinboard Viewer
      </a>
      (<a href="//github.com/lmartel/pinboard-viewer">code</a>)
    </h2>
    <h4 class="project-date">
      Summer 2015
    </h4>
    <h4 class="project-status">
      finished
    </h4>
  </div>
  
  <div class="project-description" data-project="Gazebo" data-rank="4">
    <h2>
      <a href="/projects/gazebo/">
        Gazebo
      </a>
      (<a href="//github.com/lmartel/Gazebo">code</a>)
    </h2>
    <h4 class="project-date">
      Summer 2014
    </h4>
    <h4 class="project-status">
      finished
    </h4>
  </div>
  
  <div class="project-description" data-project="AxisAndAllies" data-rank="5">
    <h2>
      <a href="/projects/axis-allies/">
        Axis&Allies
      </a>
      (<a href="//github.com/lmartel/AxisAndAllies">code</a>)
    </h2>
    <h4 class="project-date">
      Summer 2013
    </h4>
    <h4 class="project-status">
      finished
    </h4>
  </div>
  
  <div class="project-description" data-project="TVTracker" data-rank="6">
    <h2>
      <a href="/projects/tvtracker/">
        TVTracker
      </a>
      (<a href="//github.com/lmartel/TVTracker">code</a>)
    </h2>
    <h4 class="project-date">
      Spring 2013
    </h4>
    <h4 class="project-status">
      finished
    </h4>
  </div>
  
  <div class="project-description" data-project="UrlShortener" data-rank="7">
    <h2>
      <a href="/projects/2ez-url-shortener/">
        2EZ (Url Shortener)
      </a>
      (<a href="//github.com/lmartel/UrlShortener">code</a>)
    </h2>
    <h4 class="project-date">
      Spring 2014
    </h4>
    <h4 class="project-status">
      finished
    </h4>
  </div>
  
  <div class="project-description" data-project="EasyAuth" data-rank="8">
    <h2>
      <a href="/projects/easyauth/">
        EasyAuth
      </a>
      (<a href="//github.com/lmartel/EasyAuth">code</a>)
    </h2>
    <h4 class="project-date">
      Winter 2013
    </h4>
    <h4 class="project-status">
      finished
    </h4>
  </div>
  
  <div class="project-description" data-project="RTFA" data-rank="9">
    <h2>
      <a href="/projects/rtfa/">
        RTFA
      </a>
      (<a href="//github.com/lmartel/RTFA">code</a>)
    </h2>
    <h4 class="project-date">
      Winter 2013
    </h4>
    <h4 class="project-status">
      finished
    </h4>
  </div>
  
  <div class="project-description" data-project="PopOut" data-rank="10">
    <h2>
      <a href="/projects/popout/">
        PopOut
      </a>
      (<a href="//github.com/lmartel/PopOut">code</a>)
    </h2>
    <h4 class="project-date">
      Spring 2014
    </h4>
    <h4 class="project-status">
      finished
    </h4>
  </div>
  
</div>

<ul class="bxslider">
  
  <li><img src="/asset/image/toyboat-raft.png"></li>
  
  <li><img src="/asset/image/emacs-asana.png"></li>
  
  <li><img src="/asset/image/pinboard-viewer.png"></li>
  
  <li><img src="/asset/image/gazebo.png"></li>
  
  <li><img src="/asset/image/axisandallies.png"></li>
  
  <li><img src="/asset/image/tvtracker.png"></li>
  
  <li><img src="/asset/image/urlshortener.png"></li>
  
  <li><img src="/asset/image/easyauth.png"></li>
  
  <li><img src="/asset/image/rtfa.png"></li>
  
  <li><img src="/asset/image/popout.png"></li>
  
</ul>
<hr>
<div class="project-bodies">
  
  <div class="project-description" data-project="ToyBoat Raft" data-rank="1">
    <h1>ToyBoat - A Raft implementation</h1>

<p><img src="raft-demo.png?raw=true" alt="ToyBoat Raft demo" /></p>

<p><a href="https://raft.github.io/">Raft</a> is a distributed consensus algorithm. Consensus algorithms provide strong consistency guarantees to a cluster of servers, coordinating agreement on a value or safely replicating a state machine. Raft is mostly-equivalent to an earlier algorithm called Paxos, but was designed specifically to be easier to understand and leave less as an "exercise for the reader." You can read <a href="http://ramcloud.stanford.edu/raft.pdf">the original paper</a> for an excellent description of the algorithm and its many uses. You can also read <a href="http://research.microsoft.com/en-us/um/people/lamport/pubs/paxos-simple.pdf">any Paxos paper</a> to see why an easier and more exaustively-specified algorithm was necessary.</p>

<p>This repo contains my own implementation of Raft, in Haskell. I've implemented the full protocol, the two big pieces being log-entry propagation and leader election. Performance was not my focus, but it's fast enough to be IO-bound (and constrained by the configurable heartbeat/election timers) rather than CPU-bound. I also skipped space optimizations like log compaction, since I'm not using this in production anywhere and the log files take a long time to get huge.</p>

<h2>Quick Start</h2>

<p>Installing haskell is a huge pain for no reason, so if you don't have it I'd recommend just downloading the repo with precompiled binaries from the GitHub release page. If you just want to run the whole thing and see what's going on, here's how to do that:</p>

<pre><code class="bash"># run the default cluster in three terminal tabs.
# when a prompt pops up in one of them, type numbers in to submit log entries.
./raft-osx 1
./raft-osx 2
./raft-osx 3
# to see what's going on under the hood, open 3 more terminal tabs:
tail -100f log/debug.1.log
tail -100f log/debug.2.log
tail -100f log/debug.3.log
</code></pre>

<p>It'll look like the picture above.</p>

<h3>Running ToyBoat</h3>

<p>Here's the full usage information:</p>

<pre><code class="bash">./raft-osx SERVER_ID [COMMAND]   # commands = [log, test, leader, candidate, follower]
./raft-linux SERVER_ID [COMMAND] # commands = [log, test, leader, candidate, follower]

Examples:
./raft-osx 1               # runs a Raft instance with ID=1
./raft-osx 3 candidate     # runs a Raft instance with ID=3, forcing it into a particular starting role (candidate)
./raft-osx 2 log           # dumps a nicely-formatted version of Server 2's write-ahead log, found in db/log.ID.json.
./raft-osx 1 test          # runs the tests for Server 1. The test harness has been set up, but there aren't many tests.
</code></pre>

<p>The config file, <code>conf/config.json</code>, sets up a 3-node cluster to run locally. You can manually edit the JSON to change this, if you like.</p>

<h3>Compiling ToyBoat</h3>

<p>ToyBoat compiles and runs on OSX and Linux. The repo includes a Rakefile for simplifying the compilation commands as well as managing Docker if you're on OSX but want the Linux version.</p>

<p>You need Ruby and Rake to build the project. Maybe someday I'll learn to enjoy writing Makefiles, but for now, google <code>installing RVM on [MY OS]</code>.</p>

<p>You need Haskell too (obviously). Installing it is hard but Google-able. The project uses GHC version 7.10. Once you have Haskell, <code>cabal build</code> will install the project's dependencies.</p>

<p>Finally, you're ready to actually compile the damn project. Assuming you're running OSX <code>rake compile</code> will compile for OSX, and <code>rake docker:build; rake docker:compile</code> will compile for Linux using Docker.</p>

<h4>Using the Rakefile</h4>

<p>Full list of Rakefile commands, for convenience:</p>

<pre><code class="bash">rake                # default: compile for both OSX and Linux
rake reset          # reset the state machine, clear the write-ahead logs
rake log[ID]        # dump the server log for server #ID; alias for ./raft-OS ID log
rake debug[ID]      # tail the log file for server #ID
rake compile        # compile for OSX
rake run[ID]        # run server #ID; alias for ./raft-OS ID

rake docker:build   # build a linux image with Haskell and Raft's dependencies
rake docker:compile # compile for Linux using docker
rake docker:run[ID] # run server #ID on Linux inside docker
</code></pre>

<p>if you're messing around with Docker you'll probably have to edit the Rakefile; there are a few Docker commands that insist on absolute paths.</p>

  </div>
  
  <div class="project-description" data-project="emacs-asana" data-rank="2">
    <h1>emacs-asana</h1>

<p>Browse and act on your My Tasks list without leaving Emacs!</p>

<p><img src="emacs-asana.png" alt="emacs-asana" /></p>

<h2>Dependencies</h2>

<p>You'll need these packages, available from melpa via <code>M-x package-install</code>:
<code>
helm
exec-path-from-shell
</code></p>

<h2>Getting Started</h2>

<p>Add this to your <code>.bash_profile</code> (or wherever you keep your environment):</p>

<pre><code class="bash"># Get a Personal Access Token from the `apps' tab in your app.asana.com profile settings.
export ASANA_TOKEN="&lt;my-asana-personal-access-token&gt;" 
</code></pre>

<p>Add this to your <code>init.el</code>:
<code>elisp
(global-asana-mode 1)
;; or, if you prefer, use it in specific major modes:
;; (add-hook 'org-mode-hook 'asana-mode)
;; (add-hook 'prog-mode-hook 'asana-mode)
;; (add-hook 'text-mode-hook 'asana-mode)
</code></p>

<h3>Configuration</h3>

<p>[Optional] The default prefix for <code>asana-mode</code> commands is <code>C-c a</code>. To change it, add this to your <code>init.el</code>:
<code>elisp
(setq asana-keymap-prefix "C-c C-a") ; Or whatever you'd like to use as your prefix
</code></p>

<h3>Available commands</h3>

<p>In the <code>asana-mode</code> minor mode, the following interactive commands are available:</p>

<pre><code class="elisp">helm-asana [C-c a a]
helm-asana-change-workspace [C-c a A]

asana-create-task-quickly [C-c a c]
asana-create-task [C-c a C]
</code></pre>

<p>The <code>helm-asana</code> task list provides these actions:
<code>
Select (view task details in buffer) [RET]
Browse (open in Asana) [C-b]
Move to section [C-:]
Complete [C-RET]
Delete [C-DEL]
Move all marked tasks to section [M-:]
Complete all marked tasks [M-RET]
Delete all marked tasks [M-DEL]
</code></p>

<h2>Known issues</h2>

<p>OSX El Capitan can break <code>exec-path-from-shell</code>, which corrupts your access token as it gets imported into Emacs. See https://github.com/purcell/exec-path-from-shell/issues/41 for more details. One available workaround is to disable OSX bash sessions with <code>touch ~/.bash_sessions_disable</code>.</p>

<h2>TODO</h2>

<ul>
<li>Pagination for > 100 tasks</li>
<li>Improve API request batching &amp; async around multi-select and assignee_status updates</li>
<li>Improve error messages, for example around ASANA_TOKEN not found</li>
<li>Improve/add docstrings</li>
<li>Publish v1.0 as package</li>
</ul>


  </div>
  
  <div class="project-description" data-project="Pinboard Viewer" data-rank="3">
    <h1>Pinboard Viewer</h1>

<p>Make Pinboard (http://pinboard.in) pins act more like browser bookmarks. Includes fuzzy search by pin title and url.
Click the button or use a keyboard shortcut (suggested: Cmd-Shift-P or Ctrl-Shift-P) to bring up your Pinboard bookmarks. Search for tag names to filter, or search for a page title or URL to find a specific bookmark.</p>

<p>The results update as you type. Once you've found your bookmark, press Enter or Tab to open it. Hold Cmd (Mac) or Ctrl (Windows) to open it in a new tab.</p>

<p><a href="https://chrome.google.com/webstore/detail/pinboard-viewer/odpfcajfjbfbgbglgmioehbenmdfnnii">Click here for screenshots and a download link.</a></p>

  </div>
  
  <div class="project-description" data-project="Gazebo" data-rank="4">
    <h1>Gazebo</h1>

<p>I built this while putting off choosing classes. <a href="http://gazebo.lpm.io">It helps you choose classes.</a></p>

<h2>How to use</h2>

<ul>
<li>Click the red link to change between calendar and requirements modes</li>
<li>Click and drag to move courses between requirements or semesters</li>
<li>Type in the box to search for and add new courses</li>
<li>Click a requirement name or TODO box to see a list of options</li>
<li>Right click a course to get its description + offered terms</li>
</ul>


  </div>
  
  <div class="project-description" data-project="Axis&Allies" data-rank="5">
    <h1>Axis&amp;Allies</h1>

<p>Axis &amp; Allies is a tabletop minatures game I played a lot as a kid. This is my HTML5 tribute to that game: it's animated, multiplayer, completely free, and (I think) a lot of fun, so give it a try! This is probably my largest solo project.</p>

<p>Tech stuff:
- Pure javascript (both client and server)
- Multiplayer over the web, with both synchronous and asynchronous gameplay
- Heavily database-driven: features autosave and instant replays
- Infrastructure built with Meteor.js, an awesome (and as of writing half-finished) web framework</p>

<h2>Controls</h2>

<ul>
<li>Draft Phase: Click a unit's name to see its card. Choose your units using the number boxes in the cards.</li>
<li>Deploy Phase: Click on the board to deploy a unit; click again to take it back.</li>
<li>Movement and Assault Phases: Click a friendly unit to select it, then click an empty hex to move there. Or, right-click an enemy unit to inspect it.</li>
<li>Assault Phase: with a unit selected, enemies within attack range will be highlighted. Click an enemy unit to attack.</li>
</ul>


<h2>How to Play</h2>

<p>Axis and Allies is a turn-based strategy game for two players. The game is played in rounds, and each round has several phases. At the start of each round, one player is chosen randomly to play first during each phase of that round.</p>

<p><strong>Setup Round</strong></p>

<ul>
<li>Draft Phase: Build an army.

<ul>
<li>Each unit has a cost, and you have 100 points to spend.</li>
</ul>
</li>
<li>Deployment Phase: Place your troops.

<ul>
<li>If you are the first player to deploy, you can choose to deploy in the East or West.</li>
<li>Each unit must be placed within 3 hexes of your border.</li>
</ul>
</li>
</ul>


<p><strong>Play Rounds</strong></p>

<ul>
<li>Movement Phase: Move your units.

<ul>
<li>Each unit can move once during your movement phase.</li>
<li>Vehicles are slower moving through Forests and Hills, and cannot move through Marsh.</li>
<li>No units can move into Ponds.</li>
</ul>
</li>
<li>Assault Phase: Attack or move again.

<ul>
<li>Each unit can either attack or move (but not both) during your assault phase.</li>
<li>The Attacks table on each unit's card shows the number of attack dice it gets against each unit type. The number of attacks decreases when you attack from farther away.</li>
<li>An attack succeeds on a roll of 4+. The number of successes determines the attack's effect:

<ul>
<li>Less than enemy's defense: you missed.</li>
<li>Equal to enemy's defense: one hit.</li>
<li>Greater than enemy's defense: two hits.</li>
<li>Double the enemy's defense: three hits.</li>
</ul>
</li>
<li>Hits from multiple attackers are added together.</li>
</ul>
</li>
<li>Casualty Phase: Hits from assault phase take effect.

<ul>
<li>1 hits: Soldiers and vehicles are disrupted. Disruption lasts for 1 turn, preventing movement and weakening attacks (-1 to each die)</li>
<li>2 hits: Soldiers and damaged vehicles are destroyed; undamaged vehicles take damage. Damage is a permanent -1 to movement range and attack rolls.</li>
<li>3 hits: Undamaged vehicles are destroyed. Destroyed units are removed from play.</li>
<li>Units in defensive terrain (all units: Towns, Forests, Hills; soldiers only: Marsh, Shell Holes) can take cover, reducing multiple hits to 1.</li>
<li>Soldiers have a 50% chance of taking cover. Vehicles have a 33% chance of taking cover.</li>
</ul>
</li>
</ul>


<p><strong>Victory</strong></p>

<ul>
<li>Once 7 rounds have passed, you can win by controlling the objective. If only you have units on or immediately next to to the objective (the crosshairs), you win!</li>
<li>Once 10 rounds have passed, you can also win by military superiority. If you have more points' worth of units still in play than your opponent, you win!</li>
</ul>


  </div>
  
  <div class="project-description" data-project="TVTracker" data-rank="6">
    <h1>TVTracker</h1>

<p>My first major, finished(ish) personal project. Pumped!</p>

<h2>Usage</h2>

<ul>
<li>Create an account</li>
<li>Start tracking existing TV shows--or add your own!</li>
<li>Read plot summaries and actor lists</li>
<li>Keep track of which episodes you've watched, and when the next one's airing</li>
<li>Enjoy some snazzy jQuery</li>
</ul>


<h2>Why I made it</h2>

<p>I got to play around with APIs, somewhat-complex jQuery, and deal with building a
full rails app from start to finish.</p>

<p>I also actually use this to keep track of all the TV shows I [never have time to] watch
--and I hope that someone else will too. That'd be exciting.</p>

<h2>How it works</h2>

<p>TVTracker uses two APIs to gather the information it needs:
* <a href="http://wwwtvrage.com/" title="TVRage">TVRage</a> for the episode lists
* <a href="http://www.omdbapi.com/" title="OMDB">OMDB</a> for the posters and show-level information like plot summaries</p>

  </div>
  
  <div class="project-description" data-project="2EZ (Url Shortener)" data-rank="7">
    <h1>Url Shortener</h1>

<p>A simple link shortener hosted at <a href="http://s.lpm.io">my personal website</a>. This was a fun little project, inspired by my realization that <a href="http://lpm.io">lpm.io</a> is the same length as <a href="http://bit.ly">bit.ly</a>.</p>

<h2>The shortening method</h2>

<p>I wanted the links to be very short but still look random, so they're not really very random. Links are 3 characters, and must include at least one letter and at least one number. They're case insensitive, so you can read them over the phone or something.</p>

<h2>TODO</h2>

<ul>
<li>Private links, track with either email auth or password</li>
<li>Track request referrers</li>
</ul>


  </div>
  
  <div class="project-description" data-project="EasyAuth" data-rank="8">
    <h1>EasyAuth</h1>

<p>A little daemon that uses Twilio and Mailgun to intercept SMS messages and forward them to other phone numbers and email addresses. Use it to make Stanford 2Factor authentication less of a hassle!</p>

<h2>Tech Stuff</h2>

<ul>
<li>Ruby with Sinatra</li>
<li>Twilio API (10/10, would API again)</li>
</ul>


<h2>TODO</h2>

<ul>
<li>Integrate Google Authenticator or similar. This would shave a second or two off the code generation time.</li>
</ul>


  </div>
  
  <div class="project-description" data-project="RTFA" data-rank="9">
    <h1>RTFA</h1>

<p>(Read the effing article! Form your own opinions!)</p>

<p>A simple chrome extension that hides comment threads on news aggregator sites (currently HackerNews and Reddit) until after you've read the article.</p>

<h2>Why?</h2>

<p>On these sites I have an unfortunate habit of going to the comments to get the "gist" and then skipping the article entirely. I'm trying to break this habit... and spend less time in comment sections in general.</p>

<p>And I wanted to try building a chrome extension. (It was fun. B+!)</p>

<h2>How?</h2>

<p>As it turns out, for <a href="http://hacks.mozilla.org/2010/03/privacy-related-changes-coming-to-css-vistited/">security reasons</a> you can't actually use js to determine whether a user has visited a link. So this extension manually keeps track of your last few hundred pages visited from HN/Reddit. In practice this works well enough.</p>

<h2>Who?</h2>

<p><a href="http://lpm.io">Me!</a></p>

<h2>Where?</h2>

<p>Get it from the <a href="https://chrome.google.com/webstore/detail/read-the-effing-article/angdimfeecdnooacbnnppmlbobcnpbln">Google webstore</a>.</p>

  </div>
  
  <div class="project-description" data-project="PopOut" data-rank="10">
    <h1>PopOut</h1>

<p>A tiny chrome extension that adds a 'Pop out tabs to right' button to your menu bar. Click it to move your current tab and all tabs to the right to a new browser window.</p>

<p>Feel free to <a href="http://lpm.io/contact">contact me</a> with any questions!</p>

<h2>Install PopOut</h2>

<p>Get it from the <a href="https://chrome.google.com/webstore/detail/popout/pepmkldcbobcclmpplfpbllopdkipnnd">Google webstore</a>.</p>

  </div>
  
</div>
<style>
.project-bodies h1, .project-bodies h2, .project-bodies h3, .project-bodies h4, .project-bodies h5 {
    color: #2A2A2A;
    text-align: left;
}
</style>

        
      </div>
      <div class='content-background'></div>
    </div>
    <script src='/asset/javascript/vendor/jquery.js'></script>
    <script src='/asset/javascript/vendor/jquery-bxslider-min.js'></script>
    <script src='/asset/javascript/vendor/flowchart.js'></script>
    <script src='/asset/javascript/vendor/raphael.js'></script>
    <script src='/asset/javascript/app.js'></script>
  </body>
</html>
